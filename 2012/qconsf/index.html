<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">

    <title>Real Time and MVC with GeddyJS</title>

    <meta name="description" content="A framework for easily creating beautiful presentations using HTML">
    <meta name="author" content="Hakim El Hattab">

    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

    <link href='http://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic' rel='stylesheet' type='text/css'>

    <link rel="stylesheet" href="css/reveal.css">
    <link rel="stylesheet" href="css/theme/default.css" id="theme">

    <!-- For syntax highlighting -->
    <link rel="stylesheet" href="lib/css/zenburn.css">

    <!-- If the query includes 'print-pdf', use the PDF print sheet -->
    <script>
      document.write( '<link rel="stylesheet" href="css/print/' +
                      ( window.location.search.match( /print-pdf/gi ) ? 'pdf' : 'paper' ) +
                      '.css" type="text/css" media="print">' );
    </script>

    <!--[if lt IE 9]>
    <script src="lib/js/html5shiv.js"></script>
    <![endif]-->
  </head>

  <body>

    <div class="reveal">

      <!-- Any section element inside of this container is displayed as a slide -->
      <div class="slides">

        <section data-markdown>
          # RT-MVC
          Real Time Model/View/Controller Applications
          <br/>
          <br/>
          <br/>
          _[Daniel Erickson](http://twitter.com/techwraith)_ / [qConSF](http://qconsf.com/sf2012/)

        </section>

        <section data-markdown>
          # What's going to win <br/>Real Time or MVC?

          <aside class="notes" data-markdown>test</aside>

        </section>


        <section data-markdown>
          # Real Time?

          <aside class="notes" data-markdown>test</aside>

        </section>


        <section data-markdown>
          # Yeah!
          ## 'Cuz some people say:

          * MVC doesn't scale well
          * MVC is dead

          <aside class="notes" data-markdown>test</aside>

        </section>


        <section data-markdown>
          ## But MVC is here to stay

          * Gives teams structure to get things done
          * Allows new people to jump into your project
          * Easy to get started with

          <aside class="notes" data-markdown>test</aside>

        </section>

        <section data-markdown>
          # What's going to win <br/>Real Time or MVC?

          <aside class="notes" data-markdown>test</aside>

        </section>

        <section data-markdown>
          # MVC?

          <aside class="notes" data-markdown>test</aside>

        </section>


        <section data-markdown>
          # Totally!
          ## 'Cuz people think:

          * Real Time is hard
          * Maintain a new stack
          * Event Machine and Tornado suck
          * Front end code is messy

          <aside class="notes" data-markdown>test</aside>

        </section>


        <section data-markdown>
          ## But Real Time is also here to stay

          * Use WebSockets to get updates on the front end
          * Instant feedback for your users
          * Works really well on mobile

          <aside class="notes" data-markdown>test</aside>

        </section>

        <section data-markdown>
          # What's going to win <br/>Real Time or MVC?

          <aside class="notes" data-markdown>test</aside>

        </section>

        <section data-markdown>
          # Both!

          <aside class="notes" data-markdown>test</aside>

        </section>


        <section data-markdown>
          # Real Time and MVC
          ## actually mix pretty well

          <aside class="notes" data-markdown>test</aside>

        </section>


        <section data-markdown>
          ## You can:

          * Define your model once and use it all over the place
          * use your templates on both sides of HTTP
          * Mirror events from the backend to the frontend
            * instance created
            * instace updated
            * instance removed

          <aside class="notes" data-markdown>test</aside>

        </section>


        <section data-markdown>
          # How we solved the Real Time problem
          # with Geddy

          <aside class="notes" data-markdown>test</aside>

        </section>


        <section data-markdown>
          # Wait,
          # What's Geddy?

          <aside class="notes" data-markdown>test</aside>

        </section>


        <section data-markdown>
          ## The original MVC
          ## framework for Node.js

          * Very familiar if you know Rails
          * Awesome noSQL and SQL ORM
          * Many different templating languages

          <aside class="notes" data-markdown>test</aside>

        </section>


        <section data-markdown>
          # And now it
          # supports Real Time
          ## right out of the box

          <aside class="notes" data-markdown>test</aside>

        </section>


        <section data-markdown>
          ## So lets make an MVC app
          ## that supports Real Time

          <aside class="notes" data-markdown>test</aside>

        </section>


        <section data-markdown>
          ## Generate an app

          ```
          $ npm install -g geddy

          $ geddy app -rt demo

          $ cd demo

          $ geddy scaffold -rt thing title description

          $ geddy
          ```

          <aside class="notes" data-markdown>test</aside>

        </section>


        <section data-markdown>
          ## Test it out

          Open up [http://localhost:4000/things]()

          and [http://localhost:4000/things/add]()

          <aside class="notes" data-markdown>test</aside>

        </section>

        <section data-markdown>
          ## For those of you following
          ## along at home

          1. add a `thing`
          2. watch it show up in the other window
          3. update the `thing`
          4. watch it change in the other window
          5. remove the item
          6. watch it get removed from the other window.

          <aside class="notes" data-markdown>test</aside>

        </section>

        <section data-markdown>
          ## What just happened?

          `geddy app -rt demo`

          <br/>

          Generated a `demo` app with realtime enabled

          <aside class="notes" data-markdown>test</aside>

        </section>

        <section data-markdown>
          ## What just happened?


          `geddy scaffold -rt thing ...`

          <br/>

          Generated a `thing` resource

          <br/>

          - `thing` model
          - made that model available on the front end
          - `things` controller
          - routes
          - views that subscribe to the realtime events

          <aside class="notes" data-markdown>test</aside>

        </section>

        <section data-markdown>
          ## How does it work?
          ### On the server side:

          - geddy sees the `realtime` flag in your config file
          - copies your models over to a public js file
          - sets up listeners for each model's lifecycle events
          - proxies those lifecycle events to socket.io

          <aside class="notes" data-markdown>test</aside>

        </section>

        <section data-markdown>
          ## How does it work?
          ### On the client side:

          - registers listeners for all model related events
          - proxies them to the appropriate models
          - scaffolds some code that hooks into real time events

          <aside class="notes" data-markdown>test</aside>

        </section>

        <section data-markdown>
          ## Thats pretty cool,
          ### but is it easy to change?

          - modify your model once and you get it everywhere
          - emit custom events on your models
          - all generated code can be modified

          <aside class="notes" data-markdown>test</aside>

        </section>

        <section data-markdown>
          ## What's next on the roadmap?

          - Create an AJAX adapter for the front-end ORM
          - Real time queries
          - Per instance real time events
          - A better way to share templates

          <aside class="notes" data-markdown>test</aside>

        </section>

        <section data-markdown>
          ## Want to help out?
          ### Check out Geddy at

          [http://geddyjs.org](http://geddyjs.org)

          Join the mailinglist

          open bugs on github

          send us pull requests

          <aside class="notes" data-markdown>test</aside>

        </section>

        <section data-markdown>
          # Any Questions?
        </section>

      </div>

    </div>

    <script src="lib/js/head.min.js"></script>
    <script src="js/reveal.min.js"></script>

    <script>

      // Full list of configuration options available here:
      // https://github.com/hakimel/reveal.js#configuration
      Reveal.initialize({
        controls: true,
        progress: true,
        history: true,

        theme: Reveal.getQueryHash().theme, // available themes are in /css/theme
        transition: Reveal.getQueryHash().transition || 'linear', // default/cube/page/concave/zoom/linear/none

        // Optional libraries used to extend on reveal.js
        dependencies: [
          { src: 'lib/js/highlight.js', async: true, callback: function() { window.hljs.initHighlightingOnLoad(); } },
          { src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
          { src: 'lib/js/showdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
          { src: 'lib/js/data-markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
          { src: 'plugin/zoom-js/zoom.js', condition: function() { return !!document.body.classList; } },
          { src: '/socket.io/socket.io.js', async: true, condition: function() { return window.location.host === 'localhost:1947'; } },
          { src: 'plugin/speakernotes/client.js', async: true, condition: function() { return window.location.host === 'localhost:1947'; } }
        ]
      });

    </script>

  </body>
</html>
